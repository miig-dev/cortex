(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{775:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var r=n(6087);let i=e=>{let{size:t=120,animated:n=!0,className:i=""}=e;return(0,r.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",className:i,children:[(0,r.jsx)("circle",{cx:"60",cy:"60",r:"50",fill:"#121212",stroke:"#4361EE",strokeWidth:"2"}),(0,r.jsx)("text",{x:"60",y:"72",textAnchor:"middle",fontFamily:"JetBrains Mono, monospace",fontSize:"32",fill:"#4361EE",letterSpacing:"2",children:"> _"}),n&&(0,r.jsx)("rect",{x:"78",y:"52",width:"2",height:"20",fill:"#4361EE",className:"animate-cursor-blink"})]})}},2329:(e,t,n)=>{"use strict";n.d(t,{Zr:()=>i});let r=e=>t=>{try{let n=e(t);if(n instanceof Promise)return n;return{then:e=>r(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>r(t)(e)}}},i=(e,t)=>(n,i,a)=>{let s,l={storage:function(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var t;let r=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=n.getItem(e))?t:null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,c=new Set,u=new Set,d=l.storage;if(!d)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...e)},i,a);let m=()=>{let e=l.partialize({...i()});return d.setItem(l.name,{state:e,version:l.version})},p=a.setState;a.setState=(e,t)=>(p(e,t),m());let x=e((...e)=>(n(...e),m()),i,a);a.getInitialState=()=>x;let h=()=>{var e,t;if(!d)return;o=!1,c.forEach(e=>{var t;return e(null!=(t=i())?t:x)});let a=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=i())?e:x))||void 0;return r(d.getItem.bind(d))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[r,a]=e;if(n(s=l.merge(a,null!=(t=i())?t:x),!0),r)return m()}).then(()=>{null==a||a(s,void 0),s=i(),o=!0,u.forEach(e=>e(s))}).catch(e=>{null==a||a(void 0,e)})};return a.persist={setOptions:e=>{l={...l,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},l.skipHydration||h(),s||x}},3156:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var r=n(4547),i=n(2329);let a=[{id:"deep-worker",name:"Deep Worker",description:"Compl\xe9tez 10 sessions de focus",icon:"\uD83E\uDDE0",color:"cortex-electric-blue",requirement:{type:"sessions",value:10}},{id:"idea-master",name:"Idea Master",description:"Capturez 50 id\xe9es dans l'Inbox",icon:"\uD83D\uDCA1",color:"cortex-vibrant-orange",requirement:{type:"ideas",value:50}},{id:"procrastination-slayer",name:"Procrastination Slayer",description:"Terminez 25 t\xe2ches en une journ\xe9e",icon:"⚔️",color:"cortex-pulse-red",requirement:{type:"tasks",value:25}},{id:"focus-champion",name:"Focus Champion",description:"Accumulez 10 heures de focus",icon:"\uD83C\uDFC6",color:"cortex-soft-green",requirement:{type:"time",value:36e3}},{id:"productivity-guru",name:"Productivity Guru",description:"Maintenez une s\xe9rie de 7 jours",icon:"\uD83C\uDFAF",color:"cortex-electric-blue",requirement:{type:"streak",value:7}},{id:"consistency-king",name:"Consistency King",description:"Utilisez l'app pendant 30 jours cons\xe9cutifs",icon:"\uD83D\uDC51",color:"cortex-vibrant-orange",requirement:{type:"streak",value:30}},{id:"speed-demon",name:"Speed Demon",description:"Compl\xe9tez une session en moins de 20 minutes",icon:"⚡",color:"cortex-pulse-red",requirement:{type:"speed",value:1200}},{id:"zen-master",name:"Zen Master",description:"Accumulez 100 heures de focus total",icon:"\uD83E\uDDD8",color:"cortex-soft-green",requirement:{type:"time",value:36e4}}],s=[{level:1,exp:0,title:"D\xe9butant"},{level:2,exp:100,title:"Apprenti"},{level:3,exp:250,title:"Explorateur"},{level:4,exp:500,title:"D\xe9veloppeur"},{level:5,exp:1e3,title:"Expert"},{level:6,exp:2e3,title:"Ma\xeetre"},{level:7,exp:3500,title:"Guru"},{level:8,exp:5e3,title:"L\xe9gende"},{level:9,exp:7500,title:"Mythique"},{level:10,exp:1e4,title:"Transcendant"}],l={totalSessions:0,totalFocusTime:0,currentStreak:0,longestStreak:0,ideasCaptured:0,tasksCompleted:0,averageSessionLength:0,badges:[],level:1,experience:0,nextLevelExp:100},o=(0,r.v)()((0,i.Zr)((e,t)=>({stats:l,updateStats:n=>{e(e=>{let t={...e.stats,...n},r=s.find(e=>t.experience>=e.exp)||s[0],i=s.find(e=>e.exp>t.experience);return t.level=r.level,t.nextLevelExp=(null==i?void 0:i.exp)||s[s.length-1].exp,{stats:t}}),t().checkBadges()},addExperience:n=>{e(e=>{let t=e.stats.experience+n,r={...e.stats,experience:t},i=s.find(e=>t>=e.exp)||s[0],a=s.find(e=>e.exp>t);return r.level=i.level,r.nextLevelExp=(null==a?void 0:a.exp)||s[s.length-1].exp,{stats:r}}),t().checkBadges()},checkBadges:()=>{let{stats:n}=t(),r=[];a.forEach(e=>{if(n.badges.some(t=>t.id===e.id))return;let t=!1;switch(e.requirement.type){case"sessions":t=n.totalSessions>=e.requirement.value;break;case"time":t=n.totalFocusTime>=e.requirement.value;break;case"streak":t=n.currentStreak>=e.requirement.value;break;case"speed":t=n.averageSessionLength<=e.requirement.value;break;case"ideas":t=n.ideasCaptured>=e.requirement.value}t&&r.push({...e,unlockedAt:new Date})}),r.length>0&&e(e=>({stats:{...e.stats,badges:[...e.stats.badges,...r]}}))},unlockBadge:t=>{let n=a.find(e=>e.id===t);n&&e(e=>e.stats.badges.some(e=>e.id===t)?e:{stats:{...e.stats,badges:[...e.stats.badges,{...n,unlockedAt:new Date}]}})},resetStats:()=>{e({stats:l})}}),{name:"cortex-gamification-storage",partialize:e=>({stats:e.stats})}))},4547:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var r=n(4863);let i=e=>{let t,n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(r,i,a);return a},a=e=>{let t=(e=>e?i(e):i)(e),n=e=>(function(e,t=e=>e){let n=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},s=e=>e?a(e):a},6860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(6087),i=n(775),a=n(2969),s=n(4863),l=n(3156);function o(e){let{onItemAdded:t,pendingCount:n}=e,[o,c]=(0,s.useState)(""),[u,d]=(0,s.useState)(!1),m=(0,s.useRef)(null),{updateStats:p,addExperience:x}=(0,l.C)();(0,s.useEffect)(()=>{m.current&&(m.current.style.height="auto",m.current.style.height=m.current.scrollHeight+"px")},[o]);let h=e=>{if(e.preventDefault(),!o.trim())return;let n=(e=>{let t=[];(e.includes("!urgent")||e.includes("!important"))&&t.push("urgent"),(e.includes("#docs")||e.includes("#documentation"))&&t.push("docs"),(e.includes("#bug")||e.includes("#fix"))&&t.push("bug"),(e.includes("#feature")||e.includes("#feat"))&&t.push("feature");let n=e.match(/@(\w+)/g);return n&&t.push(...n.map(e=>e.substring(1))),t})(o);if(t({id:Date.now().toString(),content:o.trim(),tags:n,createdAt:new Date}),c(""),p({ideasCaptured:1}),x(5),"Audio"in window){let e=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU5k9n1unEiBC13yO/eizEIHWq+8+OWT");e.volume=.3,e.play().catch(()=>{})}};return(0,r.jsxs)("div",{className:"min-h-screen bg-cortex-dark flex flex-col items-center justify-center p-8",children:[(0,r.jsx)(a.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:(0,r.jsx)(i.n,{size:80,animated:!0})}),(0,r.jsx)(a.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.2},className:"w-full max-w-4xl",children:(0,r.jsxs)("form",{onSubmit:h,className:"relative",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("textarea",{ref:m,value:o,onChange:e=>c(e.target.value),onFocus:()=>d(!0),onBlur:()=>d(!1),onKeyDown:e=>{"Enter"!==e.key||e.metaKey||e.ctrlKey?"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&h(e):(e.preventDefault(),h(e))},placeholder:"Tapez ici... !urgent fix bug",className:"\n                w-full min-h-[60px] max-h-[200px] px-6 py-4\n                bg-transparent border-none outline-none\n                text-cortex-off-white text-xl font-mono\n                placeholder-cortex-muted\n                resize-none\n                transition-all duration-200\n                ".concat(u?"text-white":"","\n              "),style:{fontSize:"20px",lineHeight:"1.5"}}),u&&""===o&&(0,r.jsx)(a.P.div,{className:"absolute top-4 left-6 w-0.5 h-6 bg-cortex-electric-blue",animate:{opacity:[1,0,1]},transition:{duration:1,repeat:1/0}})]}),o&&(0,r.jsx)(a.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-cortex-charcoal/50 rounded-lg border border-cortex-charcoal",children:(0,r.jsx)("div",{className:"text-cortex-off-white font-mono text-lg",children:o.split(" ").map((e,t)=>e.startsWith("!urgent")||e.startsWith("!important")?(0,r.jsx)("span",{className:"inline-block bg-cortex-pulse-red/20 text-cortex-pulse-red px-2 py-1 rounded text-sm font-mono font-bold mr-1",children:e},t):e.startsWith("#")?(0,r.jsx)("span",{className:"inline-block bg-cortex-electric-blue/20 text-cortex-electric-blue px-2 py-1 rounded text-sm font-mono font-bold mr-1",children:e},t):e.startsWith("@")?(0,r.jsx)("span",{className:"inline-block bg-cortex-vibrant-orange/20 text-cortex-vibrant-orange px-2 py-1 rounded text-sm font-mono font-bold mr-1",children:e},t):(0,r.jsxs)("span",{children:[e," "]},t))})})]})}),n>0&&(0,r.jsxs)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"mt-8 text-cortex-muted font-mono text-sm",children:["(",n," id\xe9e",n>1?"s":""," en attente)"]}),(0,r.jsxs)(a.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.6},className:"mt-12 text-cortex-muted font-mono text-xs text-center max-w-md",children:[(0,r.jsx)("div",{children:"Enter = sauvegarder • Cmd+Enter = sauvegarder et rester ouvert"}),(0,r.jsx)("div",{className:"mt-2",children:"Tags: !urgent #docs @projet"})]})]})}function c(){let[e,t]=(0,s.useState)([]);return(0,r.jsx)(o,{onItemAdded:e=>{t(t=>[e,...t])},pendingCount:e.length})}},7921:(e,t,n)=>{Promise.resolve().then(n.bind(n,6860))}},e=>{e.O(0,[969,642,369,358],()=>e(e.s=7921)),_N_E=e.O()}]);