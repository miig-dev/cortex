(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{2363:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(6087),a=r(4863),n=r(9463),l=r.n(n);function o(e){let{events:t,onEventClick:r,onEventCreate:n,onTaskDrop:l}=e,[o,i]=(0,a.useState)(new Date),[c,d]=(0,a.useState)(null),u=(0,a.useMemo)(()=>{let e=new Date(o),r=e.getDay(),s=e.getDate()-r+(0===r?-6:1);e.setDate(s);let a=[];for(let r=0;r<7;r++){let s=new Date(e);s.setDate(e.getDate()+r);let n=t.filter(e=>new Date(e.start).toDateString()===s.toDateString());a.push({date:s,events:n,isToday:s.toDateString()===new Date().toDateString(),isCurrentMonth:s.getMonth()===o.getMonth()})}return a},[o,t]),m=(0,a.useMemo)(()=>{let e=new Date(o.getFullYear(),0,1);return Math.ceil((Math.floor((o.getTime()-e.getTime())/864e5)+e.getDay()+1)/7)},[o]),h=e=>{let t=new Date(o);t.setDate(o.getDate()+("next"===e?7:-7)),i(t)};return(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold",style:{color:"#E0E0E0"},children:["\uD83D\uDCC5 Agenda - Semaine ",m]}),(0,s.jsx)("span",{className:"text-sm",style:{color:"#6B7280"},children:o.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>h("prev"),className:"p-2 rounded-lg hover:bg-gray-800 transition-colors",style:{color:"#E0E0E0"},children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("button",{type:"button",onClick:()=>{i(new Date)},className:"px-4 py-2 rounded-lg font-medium transition-colors",style:{backgroundColor:"#4361EE",color:"white"},children:"Aujourd'hui"}),(0,s.jsx)("button",{type:"button",onClick:()=>h("next"),className:"p-2 rounded-lg hover:bg-gray-800 transition-colors",style:{color:"#E0E0E0"},children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((e,t)=>(0,s.jsx)("div",{className:"p-3 text-center font-semibold text-sm",style:{color:"#6B7280"},children:e},e)),u.map((e,t)=>(0,s.jsxs)("div",{className:"min-h-[120px] p-2 border rounded-lg transition-colors ".concat(e.isToday?"border-blue-500 bg-blue-500 bg-opacity-10":"border-gray-700 hover:border-gray-600"),onDragOver:t=>(e.date,void t.preventDefault()),onDrop:t=>((e,t)=>{e.preventDefault();let r=e.dataTransfer.getData("text/plain");r&&l&&l(parseInt(r,10),t)})(t,e.date),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium ".concat(e.isToday?"text-blue-400":e.isCurrentMonth?"text-white":"text-gray-500"),children:e.date.getDate()}),(0,s.jsx)("button",{type:"button",onClick:()=>null==n?void 0:n(e.date),className:"w-6 h-6 rounded-full hover:bg-gray-700 flex items-center justify-center transition-colors",style:{color:"#6B7280"},title:"Ajouter un \xe9v\xe9nement",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),(0,s.jsx)("div",{className:"space-y-1",children:e.events.map(e=>(0,s.jsxs)("div",{onClick:()=>null==r?void 0:r(e),className:"p-2 rounded text-xs cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:e.color+"20",borderLeft:"3px solid ".concat(e.color),color:"#E0E0E0"},children:[(0,s.jsx)("div",{className:"font-medium truncate",children:e.title}),!e.allDay&&(0,s.jsx)("div",{className:"text-xs opacity-70",children:e.start.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}),e.area&&(0,s.jsx)("div",{className:"text-xs opacity-50",children:e.area})]},e.id))})]},t))]})]})}function i(e,t){let r=new Date(e),s=(t-r.getDay()+7)%7;return r.setDate(r.getDate()+(0===s?7:s)),r}var c=r(9226);function d(e){let{onTasksCreated:t,placeholder:r="Tapez vos t\xe2ches en markdown...\nEx: - [ ] urgent important fix bug @monday @14:30 #bug @area:Freelance Work",className:n=""}=e,[l,o]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),m=(0,a.useRef)(null),{addTask:h,areas:x}=(0,c.O)(),g=async()=>{if(l.trim()&&!d){u(!0);try{var e,r;let s=function(e){let t=[];for(let r of e.split("\n")){let e=r.trim();if(function(e){return[/^\s*[-*+]\s+\[[ x]\]\s+/,/^\s*[-*+]\s+/,/^\s*\d+\.\s+/,/^\s*-\s+/].some(t=>t.test(e))}(e)){let r=function(e){let t=e.replace(/^\s*[-*+]\s+\[[ x]\]\s+/,"").replace(/^\s*[-*+]\s+/,"").replace(/^\s*\d+\.\s+/,"").trim();if(!t)return null;let r={content:t},s=t.match(/@(today|tomorrow|monday|tuesday|wednesday|thursday|friday|saturday|sunday|\d{4}-\d{2}-\d{2})/i);s&&(r.date=function(e){let t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(e.toLowerCase()){case"today":return r;case"tomorrow":return new Date(r.getTime()+864e5);case"monday":return i(r,1);case"tuesday":return i(r,2);case"wednesday":return i(r,3);case"thursday":return i(r,4);case"friday":return i(r,5);case"saturday":return i(r,6);case"sunday":return i(r,0);default:let s=new Date(e);return isNaN(s.getTime())?r:s}}(s[1]),t=t.replace(s[0],"").trim());let a=t.match(/@(\d{1,2}:\d{2}(?::\d{2})?(?:\s*[ap]m)?|\d{1,2}h\d{2})/i);a&&(r.time=a[1],t=t.replace(a[0],"").trim());let n=t.match(/!(urgent|high|medium|low)/i);n&&(r.priority=n[1].toLowerCase(),t=t.replace(n[0],"").trim());let l=t.match(/#(\w+)/g);l&&(r.tags=l.map(e=>e.substring(1)),t=t.replace(/#\w+/g,"").trim());let o=t.match(/@area:([^@\s]+)/i);return o&&(r.area=o[1],t=t.replace(o[0],"").trim()),r.content=t.replace(/\s+/g," ").trim(),r.content?r:null}(e);r&&t.push(r)}}return t}(l);if(0===s.length){let t=(null==(e=x[0])?void 0:e.name)||"Freelance Work";h(l.trim(),t),o("");return}let a=[];for(let e of s){let t=e.area||(null==(r=x[0])?void 0:r.name)||"Freelance Work";if(h(e.content,t),e.date){let t=Date.now()+Math.random(),r=function(e,t){var r;let s=e.date||new Date,a=e.time?function(e){let t=e.match(/^(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(t)return{hours:parseInt(t[1],10),minutes:parseInt(t[2],10)};if(t=e.match(/^(\d{1,2}):(\d{2})(?::(\d{2}))?\s*(am|pm)$/i)){let e=parseInt(t[1],10),r=parseInt(t[2],10),s=t[4].toLowerCase();return"pm"===s&&12!==e?e+=12:"am"===s&&12===e&&(e=0),{hours:e,minutes:r}}if(t=e.match(/^(\d{1,2})h(\d{2})$/))return{hours:parseInt(t[1],10),minutes:parseInt(t[2],10)};let r=new Date;return{hours:r.getHours(),minutes:r.getMinutes()}}(e.time):null,n=new Date(s);a&&n.setHours(a.hours,a.minutes,0,0);let l=new Date(n);return a?l.setHours(n.getHours()+1):l.setHours(23,59,59,999),{id:"task-".concat(t),title:e.content,description:null==(r=e.tags)?void 0:r.join(", "),start:n,end:l,allDay:!a,color:function(e){switch(null==e?void 0:e.toLowerCase()){case"urgent":case"high":return"#EF476F";case"medium":return"#FF7733";case"low":return"#4CAF50";default:return"#4361EE"}}(e.priority),type:"task",taskId:t,area:e.area}}(e,t);a.push(r)}}a.length>0&&t&&t(a),o("")}catch(e){console.error("Erreur lors du parsing markdown:",e)}finally{u(!1)}}},p=async e=>{let t=e.clipboardData.getData("text");(t.includes("```")||t.includes("- [")||t.includes("* ")||t.includes("1. "))&&(e.preventDefault(),o(t),setTimeout(()=>{g()},100))};return(0,s.jsxs)("div",{className:"space-y-4 ".concat(n),children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("textarea",{ref:m,value:l,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),g())},onPaste:p,placeholder:r,className:"w-full h-32 px-4 py-3 rounded-lg border-2 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 resize-none",style:{borderColor:"rgba(255,255,255,0.1)",color:"#E0E0E0"}}),d&&(0,s.jsx)("div",{className:"absolute top-3 right-3",children:(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})]}),(0,s.jsxs)("div",{className:"text-xs",style:{color:"#6B7280"},children:[(0,s.jsx)("div",{className:"mb-2 font-medium",children:"\uD83D\uDCA1 Syntaxe markdown support\xe9e :"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("code",{children:"- [ ] T\xe2che"})," - Liste de t\xe2ches"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("code",{children:"@monday"})," - Date (lundi, today, tomorrow)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("code",{children:"@14:30"})," - Heure (14:30, 2:30pm, 14h30)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("code",{children:"!urgent"})," - Priorit\xe9 (urgent, high, medium, low)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("code",{children:"#bug"})," - Tags"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("code",{children:"@area:Freelance"})," - Area"]})]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs",children:"Ctrl+Enter"})," pour traiter"]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{type:"button",onClick:g,disabled:!l.trim()||d,className:"px-6 py-2 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:l.trim()?"#4361EE":"#6B7280",color:"white"},children:d?"Traitement...":"Cr\xe9er les t\xe2ches"})})]})}function u(){let{tasks:e,addTask:t}=(0,c.O)(),[r,n]=(0,a.useState)([]),[i,u]=(0,a.useState)(!1),m=(0,a.useMemo)(()=>[...e.map(e=>({id:"task-".concat(e.id),title:e.content,description:e.area,start:e.createdAt,end:new Date(e.createdAt.getTime()+36e5),allDay:!1,color:e.color||"#4361EE",type:"task",taskId:e.id,area:e.area,quadrant:e.quadrant})),...r],[e,r]);return(0,s.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"#121212"},children:[(0,s.jsx)("header",{className:"border-b",style:{borderColor:"rgba(0,0,0,0.1)"},children:(0,s.jsx)("div",{className:"container mx-auto px-8 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(l(),{href:"/",className:"text-2xl font-bold hover:opacity-80 transition-opacity",style:{color:"#E0E0E0"},children:"← Cortex"}),(0,s.jsx)("h1",{className:"text-3xl font-bold",style:{color:"#E0E0E0"},children:"\uD83D\uDCC5 Agenda"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>u(!i),className:"px-4 py-2 rounded-lg font-medium transition-colors",style:{backgroundColor:i?"#4CAF50":"#4361EE",color:"white"},children:[i?"Masquer":"Ajouter"," Markdown"]}),(0,s.jsx)(l(),{href:"/",className:"px-4 py-2 rounded-lg font-medium transition-colors",style:{backgroundColor:"#6B7280",color:"white"},children:"Retour"})]})]})})}),(0,s.jsxs)("div",{className:"container mx-auto px-8 py-8",children:[i&&(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(d,{onTasksCreated:e=>{n(t=>[...t,...e])},className:"mb-6"})}),(0,s.jsx)(o,{events:m,onEventClick:e=>{console.log("\xc9v\xe9nement cliqu\xe9:",e)},onEventCreate:(e,t)=>{console.log("Cr\xe9er \xe9v\xe9nement:",e,t)},onTaskDrop:(e,t,r)=>{console.log("T\xe2che d\xe9plac\xe9e:",e,t,r)}}),(0,s.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:"#E0E0E0"},children:"\uD83D\uDCCA Statistiques"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",style:{color:"#6B7280"},children:[(0,s.jsxs)("div",{children:["Total t\xe2ches: ",e.length]}),(0,s.jsxs)("div",{children:["\xc9v\xe9nements calendrier: ",r.length]}),(0,s.jsxs)("div",{children:["T\xe2ches cette semaine: ",m.length]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:"#E0E0E0"},children:"\uD83C\uDFAF Actions rapides"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>u(!0),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-700 transition-colors",style:{color:"#E0E0E0"},children:"+ Ajouter t\xe2ches markdown"}),(0,s.jsx)("button",{type:"button",onClick:()=>console.log("Cr\xe9er \xe9v\xe9nement"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-700 transition-colors",style:{color:"#E0E0E0"},children:"+ Cr\xe9er \xe9v\xe9nement"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:"#E0E0E0"},children:"\uD83D\uDD17 Navigation"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l(),{href:"/",className:"block px-3 py-2 rounded hover:bg-gray-700 transition-colors",style:{color:"#E0E0E0"},children:"\uD83D\uDCCB Planificateur"}),(0,s.jsx)(l(),{href:"/eisenhower",className:"block px-3 py-2 rounded hover:bg-gray-700 transition-colors",style:{color:"#E0E0E0"},children:"\uD83D\uDCCA Eisenhower"}),(0,s.jsx)(l(),{href:"/focus",className:"block px-3 py-2 rounded hover:bg-gray-700 transition-colors",style:{color:"#E0E0E0"},children:"\uD83C\uDF45 Focus Timer"})]})]})]})]})]})}},3103:(e,t,r)=>{Promise.resolve().then(r.bind(r,2363))}},e=>{e.O(0,[463,226,642,369,358],()=>e(e.s=3103)),_N_E=e.O()}]);